:root{
  --bg:#f6f7f8;
  --card:#fff;
  --text:#273142;
  --muted:#6b7280;
  --stroke:#e5e7eb;
  --blue:#2463EB;
  --blue-weak:#e8efff;
  --blue-weak-2:#f3f6ff;
  --shadow:0 4px 28px rgba(17,24,39,.06);
  --radius: 14px;            /* единый радиус для всего */
  --radius-sm: 12px;
  --slot-h: 96px;            /* высота карточки на десктопе */
  --slot-w: 152px;
  --touch-min: 48px;         /* минимальная тап-зона */
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  color:var(--text);
  background:var(--bg);
  font:400 16px/1.45 ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial, "Apple Color Emoji","Segoe UI Emoji";
}

/* ---------- cards / layout ---------- */
.container{max-width:1152px; margin:0 auto; padding:24px 20px}
.card{background:var(--card); border-radius:var(--radius); box-shadow:var(--shadow); padding:24px; margin:16px 0}
.card h1,.card h2,.card h3{margin:0 0 12px}
.muted{color:var(--muted)}
.grid-2{display:grid; gap:20px}
@media (min-width: 960px){ .grid-2{grid-template-columns:1fr 1fr} }

/* ---------- header (injected by nav.js) ---------- */
.site-header{background:var(--card); box-shadow:var(--shadow); position:sticky; top:0; z-index:1000}
.navbar{display:flex; align-items:center; gap:16px; padding:14px 20px; position:relative}
.brand{font-weight:800; letter-spacing:.2px}
.nav-spacer{flex:1}
.nav-links{display:flex; gap:14px}
.nav-links a{color:var(--text); text-decoration:none; padding:8px 10px; border-radius:12px}
.nav-links a.active{color:#0b1f66; border:1px solid var(--blue); background:var(--blue-weak)}
.lang-wrap{position:relative}
.lang-btn{
  display:flex; align-items:center; gap:8px;
  border:1px solid var(--stroke); background:var(--card);
  border-radius: var(--radius);         /* было: 12px */
  padding:8px 10px; cursor:pointer;
}
.lang-list{
  position:absolute; right:0; top:46px;
  background:var(--card); border:1px solid var(--stroke);
  border-radius: var(--radius);         /* было: 12px */
  box-shadow:var(--shadow);
  display:none; min-width:132px;
  overflow:hidden;                      /* чтобы подсветка не выходила за скругление */
}
.lang-list button{
  display:block; width:100%; text-align:left;
  padding:10px 12px; border:0; background:#fff; cursor:pointer;
  border-radius: 0;                      /* не спорим с радиусом контейнера */
}
.lang-list button:hover{ background:#f8fafc; }
.lang-list button.active{
  background:var(--blue-weak); color:#0b1f66;
}
.burger{display:none; border:1px solid var(--stroke); background:var(--card); border-radius:12px; padding:8px 10px; cursor:pointer}

@media (max-width: 860px){
  .nav-links{display:none}
  .burger{display:block}
  .navbar.open .nav-links{
    display:flex;
    position:absolute;
    left:0; right:0; top:64px;
    background:#fff;
    padding:14px 20px;
    border-top:1px solid var(--stroke);
    flex-direction:column;      /* ⬅ столбец */
    gap:8px;                    /* компактнее */
  }
  .navbar.open .nav-links a{
    display:block;              /* на всю ширину строки */
    width:100%;
    padding:12px 10px;
  }
}

/* ---------- buttons ---------- */
.btn{display:inline-flex; align-items:center; justify-content:center; gap:8px; border:1px solid var(--stroke); background:#fff; color:var(--text); padding:10px 14px; border-radius:12px; cursor:pointer; text-decoration:none}
.btn:hover{background:#fafafa}
.btn.blue{border-color:transparent; background:var(--blue); color:#fff}
.btn.blue:hover{filter:brightness(.94)}
.btn.ghost{background:var(--blue-weak-2); border-color:transparent; color:#0b1f66}

/* ---------- booking form ---------- */
.input, select, textarea{
  width:100%; border:1px solid var(--stroke); background:#fff; border-radius:14px; padding:12px 14px; font:inherit; color:inherit
}
textarea{min-height:140px; resize:vertical}

/* ---------- calendar ---------- */
.cal-head{display:flex; align-items:center; gap:10px; margin:6px 0 14px}
.cal-title{font-weight:800; margin-left:2px}
.cal-week{display:grid; grid-template-columns:repeat(7,1fr); gap:10px; color:var(--muted); font-weight:700; margin:14px 0 8px}
.cal-grid{display:grid; grid-template-columns:repeat(7,1fr); gap:10px}
.cal-day{position:relative; border:1px solid var(--stroke); background:#fff; border-radius:16px; height:72px; display:flex; align-items:flex-start; justify-content:flex-start; padding:12px; font-weight:600; cursor:pointer}
.cal-day:focus{outline:3px solid var(--blue-weak)}
.cal-day.muted{color:#9aa1ad}
.cal-day.selected{box-shadow:0 0 0 3px var(--blue-weak); border-color:var(--blue)}
.cal-dot{position:absolute; left:12px; bottom:10px; width:8px; height:8px; border-radius:8px; background:var(--blue)}
.today{box-shadow:inset 0 0 0 2px var(--blue)}
/* кнопки месяцев — светлые */
.month-btn{min-width:40px; height:40px}
.month-today{padding:8px 12px}
.cal-loading{
  grid-column: 1 / -1;
  padding: 18px;
  text-align: center;
  color: var(--muted);
 }
 /* --- Calendar skeleton --- */
.cal-skeleton {
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  gap: 12px;
  grid-column: 1 / -1;   /* занять всю ширину сетки */
  padding: 6px 0;
}

.cal-skel-cell,
.cal-skel-header {
  border-radius: 12px;
  background: linear-gradient(90deg,
    rgba(0,0,0,0.06) 25%,
    rgba(0,0,0,0.10) 37%,
    rgba(0,0,0,0.06) 63%);
  animation: cal-shimmer 1.4s infinite linear;
}

.cal-skel-header {
  height: 20px;
  margin-bottom: 6px;
}

.cal-skel-cell {
  aspect-ratio: 1 / 1;            /* квадрат как у дня */
  border: 1px solid var(--border);
}

/* --- state: button is busy --- */
.btn.loading{
  opacity:.92;
  pointer-events:none;
  position:relative;
}
.btn.blue.loading{ filter:brightness(.92); }

/* мини-спиннер справа от текста */
.btn.loading::after{
  content:"";
  width:14px; height:14px;
  margin-left:8px;
  border-radius:50%;
  border:2px solid rgba(255,255,255,.55);
  border-top-color:#fff;
  animation: btnspin .8s linear infinite;
}
@keyframes btnspin { to { transform: rotate(360deg); } }

@keyframes cal-shimmer {
  0%   { background-position: -200px 0; }
  100% { background-position: calc(200px + 100%) 0; }
}

/* Прячем для глаз, оставляем для скринридеров */
.visually-hidden {
  position: absolute !important;
  width: 1px; height: 1px;
  padding: 0; margin: -1px;
  overflow: hidden; clip: rect(0 0 0 0);
  white-space: nowrap; border: 0;
}

/* область слотов — фиксируем min-height, чтобы не «прыгала» верстка */
.slots{display:flex; gap:10px; flex-wrap:wrap; min-height:44px; align-items:flex-start}
.slot{border:1px solid var(--stroke); background:#fff; border-radius:12px; padding:8px 10px; cursor:pointer}
.slot:hover{background:#fafafa}
.slot.selected{background:var(--blue); color:#fff; border-color:transparent}

/* Ячейки календаря: делаем квадратными и менее «пухлые» углы */
.cal-day{
  position:relative;
  border:1px solid var(--stroke);
  background:#fff;
  border-radius:12px;     /* было 16px */
  aspect-ratio: 1 / 1;    /* квадрат */
  height:auto;            /* вместо фиксированной высоты */
  padding:10px;
  display:flex;
  flex-direction:column;
  justify-content:flex-start;
  font-weight:600;
  cursor:pointer;
}

/* --- типы консультаций: точки и слоты --- */
/* Дни вне текущего месяца — приглушаем */
.cal-day.dim{ color:#9aa1ad; opacity:.6 }

/* Точки ПОД числом (без абсолютного позиционирования) */
.cal-dots{ display:flex; gap:4px; margin-top:auto; }
.cal-grid .cal-dot{ width:8px; height:8px; border-radius:50%; }
/* цвета типов */
.cal-dot--office{ background:#10b981 }
.cal-dot--online{ background:#3b82f6 }

.slot--office{ border-color:#10b98133; }
.slot--online{ border-color:#3b82f633; }
.slot--office.selected{ background:#10b98114; color:inherit; }
.slot--online.selected{ background:#3b82f614; color:inherit; }

/* Фикс «синей точки у фильтров»: отдельный класс для декоративной точки в легенде/фильтрах */
.type-dot{ width:10px; height:10px; border-radius:50%; display:inline-block; }

/* чек-фильтры (как было) */
.filter-bar{ display:flex; gap:10px; margin:6px 0 12px; flex-wrap:wrap; }
.filter-chip{ display:inline-flex; align-items:center; gap:6px; border:1px solid var(--stroke); padding:6px 10px; border-radius:999px; cursor:pointer; user-select:none; }
.filter-chip input{ accent-color: var(--blue); }

.filter-bar{ display:flex; gap:10px; margin:6px 0 12px; flex-wrap:wrap; }
.filter-chip{ display:inline-flex; align-items:center; gap:6px; border:1px solid var(--stroke); padding:6px 10px; border-radius:999px; cursor:pointer; user-select:none; }
.filter-chip input{ accent-color: var(--blue); }

#chosen{ margin-top:10px; color:var(--muted); }

/* если ещё не добавляли — «занятая» кнопка отправки */
.btn.loading{ opacity:.92; pointer-events:none; position:relative; filter:brightness(.92); }
.btn.loading::after{ content:""; width:14px; height:14px; margin-left:8px; border-radius:50%; border:2px solid rgba(255,255,255,.55); border-top-color:#fff; animation: btnspin .8s linear infinite; }
@keyframes btnspin { to { transform: rotate(360deg); } }

/* вспомогательные */
.small{font-size:.92rem; color:var(--muted)}
h1.title{font-size:40px; line-height:1.1; margin:0}

/* сетка по умолчанию — одна колонка */
.grid-2{display:grid; gap:20px}
@media (min-width: 1024px){ .grid-2{grid-template-columns:1fr 1fr} } /* две колонки только на больших экранах */

/* больше расстояние именно для пары "календарь—форма" */
.grid-gap-xl{gap:36px}
@media (min-width: 1200px){ .grid-gap-xl{gap:56px} }

/* --- календарь: компактный и резиновый на мобиле --- */

/* колонки не должны расползаться из-за длинного текста */
.cal-week{ display:grid; grid-template-columns:repeat(7, minmax(0,1fr)); gap:8px; color:var(--muted); font-weight:700; margin:14px 0 8px }
.cal-grid{ display:grid; grid-template-columns:repeat(7, minmax(0,1fr)); gap:8px }

/* заголовки недель не должны влиять на ширину */
.cal-week > *{ min-width:0; text-align:center; white-space:nowrap; overflow:hidden; text-overflow:ellipsis }

/* квадратные дни + точки внутрь потока */
.cal-day{
  border-radius:12px;
  aspect-ratio:1/1;
  height:auto;
  padding:10px;
  display:flex; flex-direction:column; justify-content:flex-start;
}
.cal-day.dim{ color:#9aa1ad; opacity:.6 }
.cal-dots{ display:flex; gap:4px; margin-top:auto }
.cal-grid .cal-dot{ width:8px; height:8px; border-radius:50% }
.cal-dot--office{ background:#10b981 }
.cal-dot--online{ background:#3b82f6 }

@media (max-width: 600px){
  :root{ --radius: 16px; --radius-sm: 14px; --slot-h: 112px; --slot-w: calc(50% - 8px); }
  .filters{ gap:10px; }
  .filters .chk{ padding:10px 12px; }
  .cal-day{ min-width: var(--touch-min); min-height: var(--touch-min); }
  .slot-card{ padding: 12px 12px; }
  .slot-card__time{ font-size: 24px; }
  .slot-card__price, .slot-card__kind{ font-size: 13px; }
}

/* мобильные тюнинги */
@media (max-width: 480px){
  .container{ padding:20px 14px }
  .card{ padding:16px }
  .cal-head{ flex-wrap:wrap; gap:8px }
  .cal-title{ flex:1; min-width:0; overflow:hidden; text-overflow:ellipsis }
  .month-btn{ min-width:36px; height:36px }
  .month-today{ padding:6px 10px }
  .cal-week{ gap:6px; font-size:.9rem }
  .cal-grid{ gap:6px }
  .cal-day{ padding:8px; border-radius:10px }
  .cal-grid .cal-dot{ width:6px; height:6px }
}

@media (max-width: 360px){
  :root{ --slot-w: 100%; }
  .cal-week{ gap:4px }
  .cal-grid{ gap:4px }
  .cal-day{ padding:6px }
}

/* ЕДИНЫЕ радиусы */
button, .btn, .cal-day, .pill, input, select, textarea, .slot-card{
  border-radius: var(--radius);
}

/* Календарные дни пусть тоже используют общий радиус */
.cal-day{
  border-radius: var(--radius);
}

/* ФИЛЬТРЫ над календарём */
.filters{
  display:flex; gap:12px; align-items:center; margin: 12px 0 8px;
  flex-wrap: wrap;
}
.filters .chk{ display:flex; gap:8px; align-items:center; padding:6px 10px;
  border:1px solid #e6e8eb; border-radius: var(--radius-sm); background:#fff; }
.filters input[type="checkbox"]{ width:16px; height:16px; }

/* СЕТКА слотов */
.slots{
  display:flex; flex-wrap:wrap; gap:12px; align-items:flex-start;
  margin-top: 12px;
}

/* НОВАЯ карточка слота */
.slot-card{
  position:relative;
  display:flex; flex-direction:column; justify-content:space-between; align-items:center;
  width: var(--slot-w);
  min-height: var(--slot-h);
  padding: 10px 12px;
  border:2px solid #e6e8eb;
  background:#fff;
  box-shadow: 0 1px 0 rgba(0,0,0,.02);
  cursor:pointer;
  user-select:none;
  transition: transform .06s ease, border-color .06s ease, box-shadow .06s ease;
}

.slot-card:hover{ transform: translateY(-1px); box-shadow: 0 2px 10px rgba(0,0,0,.06); }
.slot-card:active{ transform: translateY(0); }

/* цветные обводки по типу */
.slot--office{ border-color: var(--office, #38a169); }  /* зелёный */
.slot--online{ border-color: var(--online, #2563eb); }  /* синий  */

/* Состояние selected */
.slot-card.selected{
  box-shadow: 0 0 0 4px rgba(37, 99, 235, .1);
}

/* Внутренние тексты */
.slot-card__price{
  align-self:flex-end;
  font-size: 12px; line-height: 1; opacity:.75;
}
.slot-card__time{
  font-size: 22px; line-height:1.1; font-variant-numeric: tabular-nums;
}
.slot-card__kind{
  font-size: 12px; line-height:1; opacity:.85;
}

/* =========================
   Hover-состояния и плавность
   ========================= */
:root{ --hover-bg:#f8fafc; --hover-border:#dbe1ea; }

/* меньше дерганий при слабом железе / reduce motion */
@media (prefers-reduced-motion: reduce){
  *{ transition: none !important; }
}

/* ---------- ДНИ КАЛЕНДАРЯ ---------- */
/* базовые переходы */
.cal-day{
  transition: transform .08s ease, box-shadow .12s ease, border-color .12s ease, background-color .12s ease;
}

/* hover только для кликабельных (не past/disabled) */
.cal-day:not(.past):hover{
  background: #fff;
  border-color: var(--blue);
  box-shadow: 0 0 0 3px var(--blue-weak);
  transform: translateY(-1px);
}

/* если день выбран — hover чуть мягче, чтобы не спорил с selected */
.cal-day.selected:hover{
  box-shadow: 0 0 0 4px var(--blue-weak);
}

/* для «сегодня» оставляем внутреннее кольцо, но даем мягкий фон на hover */
.cal-day.today:not(.past):hover{
  background: var(--hover-bg);
}

/* ---------- НАВ-КНОПКИ КАЛЕНДАРЯ (‹ Сегодня ›) ---------- */
/* поддержка старых классов (как в booking.html сейчас) */ /* :contentReference[oaicite:1]{index=1} */
.month-btn,
.month-today{
  transition: background-color .12s ease, border-color .12s ease, box-shadow .12s ease, transform .08s ease;
}
.month-btn:hover,
.month-today:hover{
  background: var(--hover-bg);
  border-color: var(--hover-border);
  box-shadow: 0 1px 0 rgba(0,0,0,.04);
  transform: translateY(-1px);
}

/* если уже переведёшь на единый класс nav-btn — тот же hover применится */
.nav-btn{
  transition: background-color .12s ease, border-color .12s ease, box-shadow .12s ease, transform .08s ease;
}
.nav-btn:hover{
  background: var(--hover-bg);
  border-color: var(--hover-border);
  box-shadow: 0 1px 0 rgba(0,0,0,.04);
  transform: translateY(-1px);
}

/* ---------- ВЕРХНИЙ НАВБАР (ссылки, язык, бургер) ---------- */ /* :contentReference[oaicite:2]{index=2} */
.nav-links a{
  border: 1px solid transparent;        /* чтобы при hover не прыгал layout */
  transition: background-color .12s ease, border-color .12s ease, color .12s ease, transform .08s ease;
}
.nav-links a:hover{
  background: var(--blue-weak-2);
  border-color: var(--stroke);
  color: #0b1f66;
  transform: translateY(-1px);
}

/* кнопка выбора языка и бургер — тоже живые */
.lang-btn, .burger{
  transition: background-color .12s ease, border-color .12s ease, transform .08s ease, box-shadow .12s ease;
}
.lang-btn:hover, .burger:hover{
  background: var(--hover-bg);
  border-color: var(--hover-border);
  transform: translateY(-1px);
}

